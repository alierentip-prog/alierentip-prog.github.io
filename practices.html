<!DOCTYPE html><html lang="tr"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Alışkanlık Serisi</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
:root{--bg:#0B1117;--card:#121A24;--bd:#1c2a3a;--tx:#E6F2FF;--muted:#A9C7E6;--ok:#9EF79E}
*{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--tx);font-family:Inter,system-ui}
.wrapper{max-width:720px;margin:18px auto;padding:14px}
.btn{background:#0f1824;border:1px solid var(--bd);color:var(--tx);padding:8px 12px;border-radius:12px;text-decoration:none}
.card{background:var(--card);border:1px solid var(--bd);border-radius:16px;padding:18px;margin-top:12px}
h1{margin:8px 0 6px;font-size:18px}
.grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px;margin-top:12px}
.day{border:1px dashed var(--bd);border-radius:10px;padding:10px 0;text-align:center;color:var(--muted)}
.day.done{background:rgba(158,247,158,.1);border-color:#2c7a2c;color:var(--ok);font-weight:600}
.badge{display:inline-block;background:#0f1824;border:1px solid var(--bd);padding:6px 10px;border-radius:999px;color:var(--muted)}
</style></head><body>
<div class="wrapper">
  <div class="top">
    <a class="btn" href="male.html">← Geri</a>
    <span class="badge">🏋️ Mini alışkanlıklar</span>
    <a class="btn" style="float:right" href="index.html">Ana Menü</a>
  </div>

  <div class="card" id="tekhedef">
    <h1>🎯 Tek Hedefini Yaz</h1>
    <input id="goal" placeholder="Örn: Her gün 20 dk çalışma" style="width:100%;padding:10px;border-radius:12px;border:1px solid var(--bd);background:#0f1824;color:var(--tx)">
    <p class="badge">Peş peşe gün: <span id="streak">0</span></p>
    <div class="grid" id="grid"></div>
    <div style="margin-top:10px">
      <button class="btn" id="mark">Bugünü işaretle</button>
      <button class="btn" id="clear">Temizle</button>
    </div>
  </div>
</div>
<script>
const grid = document.getElementById('grid');
const streakEl=document.getElementById('streak');
const goal=document.getElementById('goal');

function startOfDay(d=new Date()){d.setHours(0,0,0,0);return d}
function key(){return 'az_streak'}
function load(){
  const s=JSON.parse(localStorage.getItem(key())||'{"goal":"","days":[]}');
  goal.value=s.goal||'';
  draw(s.days||[]);
}
function save(days){ localStorage.setItem(key(), JSON.stringify({goal:goal.value, days})); }

function draw(days){
  grid.innerHTML='';
  const today=startOfDay().getTime();
  let streak=0;
  for(let i=6;i>=0;i--){
    const d=new Date(today - i*86400000).getTime();
    const ok=days.includes(d);
    const el=document.createElement('div');
    el.className='day'+(ok?' done':''); el.textContent=new Date(d).toLocaleDateString('tr-TR',{weekday:'N'}).charAt(0);
    grid.appendChild(el);
    if(d<=today){ if(ok) streak++; else streak=0; }
  }
  streakEl.textContent=streak;
}

document.getElementById('mark').onclick=()=>{
  const s=JSON.parse(localStorage.getItem(key())||'{"goal":"","days":[]}');
  const today=startOfDay().getTime();
  if(!s.days.includes(today)) s.days.push(today);
  save(s.days); load();
};
document.getElementById('clear').onclick=()=>{ save([]); load(); };
goal.onchange=()=>{ const s=JSON.parse(localStorage.getItem(key())||'{"goal":"","days":[]}'); s.goal=goal.value; localStorage.setItem(key(), JSON.stringify(s)); };

load();
</script>
</body></html>

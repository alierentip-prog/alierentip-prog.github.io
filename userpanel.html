<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>AZURA • Panel</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&display=swap" rel="stylesheet">
<style>
  :root{
    --flash: 420ms;            /* beyaza geçiş */
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0; font-family:system-ui,Inter,Arial; background:#0a0f1a}
  /* SPLASH */
  .splash{
    position:fixed; inset:0; z-index:9999;
    display:grid; place-items:center;
    background: radial-gradient(900px 600px at 50% -10%, #0f1a2b, #0a0f1a);
    transition:opacity .4s ease, visibility .4s ease;
  }
  .stage{position:relative; width:min(78vmin,520px); aspect-ratio:1/1}
  .brand{
    position:absolute; inset:0; display:grid; place-items:center;
    font-family:Cinzel,serif; letter-spacing:.18em; font-weight:700;
    font-size:clamp(30px,7.6vmin,56px);
    background:linear-gradient(135deg,#ffffff 0%,#d9cfff 40%,#7a55ff 100%);
    -webkit-background-clip:text; background-clip:text; color:transparent;
    text-shadow:0 0 14px rgba(160,130,255,.18);
    user-select:none; pointer-events:none;
  }
  .flash{
    position:fixed; inset:0; background:#fff; opacity:0; pointer-events:none;
    transition:opacity var(--flash) ease;
    z-index:10000;
  }
  /* APP (örnek) */
  #app{opacity:0; transition:opacity .45s ease}
  #app.show{opacity:1}
  .panel{min-height:100vh; display:grid; place-items:center; background:#fff}
  .card{
    width:min(960px,92vw); border:1px solid #e9eef6; border-radius:16px;
    box-shadow:0 18px 44px rgba(0,0,0,.08); padding:24px 20px;
  }
  .card h2{margin:0 0 10px; font-family:Cinzel,serif; letter-spacing:.08em; color:#273043}
  .card p{margin:.5rem 0; color:#444}
</style>
</head>
<body>

<div class="splash" id="splash">
  <div class="stage">
    <canvas id="ring"></canvas>
    <div class="brand" id="brand">AZURA</div>
  </div>
</div>
<div class="flash" id="flash"></div>

<main id="app">
  <section class="panel">
    <article class="card">
      <h2>AZURA NOVA — Panel</h2>
      <p>Giriş animasyonu bitti. Burayı gerçek panel/akış ile doldur.</p>
    </article>
  </section>
</main>

<script>
/* === Sabit noktalı halka + parlayan “yılan” === */
(function(){
  const cvs = document.getElementById('ring');
  const wrap = cvs.parentElement;
  const ctx = cvs.getContext('2d');
  const splash = document.getElementById('splash');
  const app = document.getElementById('app');
  const flash = document.getElementById('flash');

  // ——— Ayarlar (tam istediğin görünüm için burayla oynayabilirsin)
  const TOTAL_MS     = 3600;  // toplam süre (3.6s) → 3–4 tur
  const REVOLUTIONS  = 3.6;   // kaç tur dönsün
  const DOT_COUNT    = 32;    // noktacık sayısı (halka üstünde eşit)
  const BASE_SIZE    = 3.2;   // tüm noktaların taban yarıçapı (px)
  const HEAD_BOOST   = 4.4;   // baş ışık noktaya geldiğinde ekstra büyüme
  const SIGMA        = 0.26;  // parıltının açısal yayılımı (küçük → keskin)
  const BASE_ALPHA   = 0.18;  // tüm noktaların sabit parlaklığı
  const COLOR_DIM    = [0, 120, 255];  // sabit mavi (arka)
  const COLOR_GLOW   = [80, 230, 255]; // tepe parıltı rengi

  // Canvas boyutlandırma
  function fit(){
    const size = Math.min(wrap.clientWidth, wrap.clientHeight);
    const dpr  = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
    cvs.width  = size * dpr;
    cvs.height = size * dpr;
    cvs.style.width = cvs.style.height = size + 'px';
    ctx.setTransform(dpr,0,0,dpr,0,0);
  }
  fit(); addEventListener('resize', fit, {passive:true});

  // Noktaların sabit konumlarını hazırla
  const dots = []; // {x,y,angle}
  function buildDots(){
    dots.length = 0;
    const w = cvs.clientWidth, h = cvs.clientHeight;
    const cx = w/2, cy = h/2;
    const r  = w*0.34;
    for(let i=0;i<DOT_COUNT;i++){
      const a = (i / DOT_COUNT) * Math.PI*2 - Math.PI/2; // baş yukarıda
      dots.push({ x: cx + r*Math.cos(a), y: cy + r*Math.sin(a), a });
    }
  }
  buildDots();

  // Yardımcılar
  const lerp = (a,b,t)=>a+(b-a)*t;
  const mixColor = (c1,c2,t)=>`rgba(${Math.round(lerp(c1[0],c2[0],t))},${Math.round(lerp(c1[1],c2[1],t))},${Math.round(lerp(c1[2],c2[2],t))},`;
  const now = ()=>performance.now();

  // Çizim
  function draw(headAngle){
    const w = cvs.clientWidth, h = cvs.clientHeight;
    ctx.clearRect(0,0,w,h);

    // çok hafif aura
    const cx = w/2, cy = h/2; const r = w*0.36;
    const g = ctx.createRadialGradient(cx,cy,r*0.1, cx,cy,r*1.1);
    g.addColorStop(0, 'rgba(40,140,255,.07)');
    g.addColorStop(1, 'rgba(0,0,0,0)');
    ctx.fillStyle = g; ctx.beginPath(); ctx.arc(cx,cy,r,0,Math.PI*2); ctx.fill();

    // sabit noktalar + parıltı
    for(const d of dots){
      // açısal mesafe (0..π)
      let diff = Math.abs(Math.atan2(Math.sin(d.a-headAngle), Math.cos(d.a-headAngle)));
      // gauss benzeri tepki
      const influence = Math.exp(- (diff/SIGMA) * (diff/SIGMA)); // 0..1
      const size = BASE_SIZE + influence*HEAD_BOOST;
      const col  = mixColor(COLOR_DIM, COLOR_GLOW, influence);
      const alpha= BASE_ALPHA + influence*0.9;

      ctx.save();
      ctx.shadowColor = `rgba(80,230,255,${0.35+0.35*influence})`;
      ctx.shadowBlur  = 12 + 18*influence;
      ctx.fillStyle   = `${col}${alpha})`;
      ctx.beginPath(); ctx.arc(d.x, d.y, size, 0, Math.PI*2); ctx.fill();
      ctx.restore();
    }
  }

  // Animasyon döngüsü
  let start = now();
  function loop(){
    const t = Math.min(1, (now()-start)/TOTAL_MS);
    const head = -Math.PI/2 + t * (Math.PI*2*REVOLUTIONS); // saat yönü
    draw(head);
    if(t<1) requestAnimationFrame(loop);
    else finish();
  }
  requestAnimationFrame(loop);

  // Erken geçmek isterse tık
  splash.addEventListener('click', ()=>{ start = now()-TOTAL_MS; }, {once:true});

  // Bitince: ekran beyaza, sonra panel
  function finish(){
    // önce arka plan beyaz olsun (flash)
    flash.style.opacity = 1;
    setTimeout(()=>{
      splash.style.opacity = 0; splash.style.visibility='hidden';
      document.body.style.background = '#fff';
      flash.style.opacity = 0;
      app.classList.add('show');
    }, parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--flash')));
  }
})();
</script>
</body>
</html>

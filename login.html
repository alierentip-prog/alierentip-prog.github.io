<!doctype html><html lang="tr"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>AZURA • Giriş / Üyelik</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root{--b:rgba(255,255,255,.16);--g:rgba(255,255,255,.06);--fg:#eaf4ff;--bg:#0b1218}
  *{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.5 Inter,system-ui}
  .wrap{max-width:420px;margin:40px auto;padding:20px}
  .card{border:1px solid var(--b);background:var(--g);backdrop-filter:blur(8px);border-radius:16px;padding:20px}
  input{width:100%;padding:12px;border-radius:12px;border:1px solid var(--b);background:#0d151c;color:var(--fg);margin:8px 0 12px}
  button{width:100%;padding:12px;border:1px solid var(--b);border-radius:12px;background:var(--g);color:var(--fg);font-weight:800;cursor:pointer}
  .row{display:flex;gap:8px}
  .msg{margin-top:10px;opacity:.85}
  a{color:#bfe1ff}
</style>
</head><body>
<div class="wrap">
  <h1>AZURA</h1>
  <div class="card">
    <h3>Giriş</h3>
    <input id="lemail" type="email" placeholder="E-posta">
    <input id="lpass"  type="password" placeholder="Şifre">
    <button id="loginBtn">Giriş Yap</button>
    <p class="msg" id="lmsg"></p>
  </div>
  <br>
  <div class="card" id="signupBox">
    <h3>Üye Ol</h3>
    <input id="semail" type="email" placeholder="E-posta">
    <input id="spass"  type="password" placeholder="Şifre (min 6)">
    <button id="signupBtn">Üye Ol</button>
    <p class="msg" id="smsg"></p>
  </div>
  <p style="margin-top:16px"><a href="index.html">← Ana sayfa</a></p>
</div>

<!-- Firebase entegrasyonu -->
<script type="module" src="./firebase.js"></script>
<script type="module">
  const lmsg = document.getElementById('lmsg');
  const smsg = document.getElementById('smsg');

  // Giriş
  document.getElementById('loginBtn').onclick = async ()=>{
    lmsg.textContent = "Giriş deneniyor…";
    try{
      await window.AZ.login(
        document.getElementById('lemail').value.trim(),
        document.getElementById('lpass').value
      );
      lmsg.textContent = "Giriş başarılı, yönlendiriliyor…";
      location.href = "index.html";
    }catch(e){
      lmsg.textContent = "Hata: "+(e.code||e.message);
      alert("Giriş hatası: "+(e.message||e));
    }
  };

  // Üyelik
  document.getElementById('signupBtn').onclick = async ()=>{
    smsg.textContent = "Kayıt oluşturuluyor…";
    try{
      await window.AZ.signup(
        document.getElementById('semail').value.trim(),
        document.getElementById('spass').value
      );
      smsg.textContent = "Kayıt başarılı! Giriş yapıldı.";
      location.href = "index.html";
    }catch(e){
      smsg.textContent = "Hata: "+(e.code||e.message);
      alert("Üyelik hatası: "+(e.message||e));
    }
  };
</script>
</body></html>

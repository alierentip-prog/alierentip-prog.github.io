<!doctype html>
<html lang="tr" data-theme="dark">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>VERIDIUM — Portal</title>
  <meta name="description" content="Veridium kişisel portal"/>
  <style>
    /* ===== Temel değişkenler ===== */
    :root{
      --bg:#0b0d10;
      --fg:#eaeaea;
      --muted:#9aa4ad;
      --brand-male:#2ac0ff;     /* buz-mavisi */
      --brand-female:#ff79c6;   /* bahar-pembe */
      --radius:16px;
      --shadow:0 6px 24px rgba(0,0,0,.28);
      --glass:rgba(255,255,255,.06);
      --glass-b:rgba(255,255,255,.12);
    }
    html,body{height:100%}
    body{
      margin:0; color:var(--fg); background:var(--bg);
      font:16px/1.55 system-ui, Segoe UI, Roboto, Arial, Apple Color Emoji, Noto Color Emoji;
      letter-spacing:.2px;
      overflow-x:hidden;
    }

    /* ===== Intro (cinsiyet seçimi) ===== */
    #introScreen{
      position:fixed; inset:0; z-index:1200; display:grid; place-items:center;
      background: radial-gradient(1200px 800px at 50% 50%, rgba(255,255,255,.06), transparent 60%), #0b0d10;
      opacity:1; pointer-events:auto; transition:opacity .7s ease;
    }
    #introScreen.hide{opacity:0; pointer-events:none}
    .intro-wrap{ text-align:center; max-width:840px; padding:24px }
    .intro-title{
      margin:0 0 12px;
      font-weight:900; font-size:48px; letter-spacing:.06em;
      background:linear-gradient(90deg,#9ad,#def,#9ad);
      -webkit-background-clip:text; background-clip:text; color:transparent;
      animation:titleShift 7s linear infinite;
    }
    @keyframes titleShift{
      0%{background-position:0% 50%}100%{background-position:200% 50%}
    }
    .intro-sub{margin:0 0 28px; color:var(--muted); font-size:18px}
    .choices{display:flex; gap:14px; justify-content:center; flex-wrap:wrap}
    .choices button{
      appearance:none; border:1px solid var(--glass-b); background:var(--glass);
      color:var(--fg); padding:12px 18px; border-radius:12px; font-weight:700;
      backdrop-filter: blur(6px); cursor:pointer; transition: transform .12s ease, background .2s, border-color .2s;
    }
    .choices button:hover{ transform:translateY(-1px) scale(1.02); background:rgba(255,255,255,.1) }
    .choices button:active{ transform:translateY(0) scale(.98) }
    .maleBtn{ box-shadow:0 0 0 1px rgba(42,192,255,.25) inset }
    .femaleBtn{ box-shadow:0 0 0 1px rgba(255,121,198,.25) inset }

    /* ===== Üst başlık (site görünümü) ===== */
    #site{opacity:0; transition:opacity .7s ease}
    #site.show{opacity:1}
    header{
      position:relative; z-index:5;
      display:flex; align-items:center; justify-content:center;
      padding:42px 16px 18px;
    }
    .brand{
      font-weight:900; font-size: clamp(36px, 7vw, 72px);
      letter-spacing:.18em; text-transform:uppercase;
      margin:0;
      /* degrade animasyonu, tema ile güncellenir */
      --g1:#8ec5ff; --g2:#31b1ff; --g3:#7cf; --g4:#b5e1ff;
      background:linear-gradient(90deg,var(--g1),var(--g2),var(--g3),var(--g4));
      background-size:260% 100%; color:transparent; -webkit-background-clip:text; background-clip:text;
      animation:brandFlow 9s linear infinite;
      filter: drop-shadow(0 6px 22px rgba(0,0,0,.35));
    }
    @keyframes brandFlow{0%{background-position:0% 50%}100%{background-position:200% 50%}}

    /* ===== Kartlar ===== */
    .wrap{max-width:1100px; margin:0 auto; padding: 10px 16px 64px}
    .grid{display:grid; grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); gap:16px}
    .card{
      border:1px solid var(--glass-b); background:var(--glass);
      border-radius:var(--radius); box-shadow:var(--shadow);
      padding:16px; backdrop-filter: blur(8px);
    }
    .card h2{margin:0 0 10px; font-size:20px}
    .linkcard{
      display:block; border:1px dashed var(--glass-b); background:rgba(255,255,255,.04);
      border-radius:14px; padding:14px 16px; text-decoration:none; color:var(--fg);
      transition: transform .12s ease, border-color .2s, background .2s;
    }
    .linkcard:hover{ transform:translateY(-2px); border-color:rgba(255,255,255,.25); background:rgba(255,255,255,.07) }

    /* ===== Canvas katmanları ===== */
    #bgCanvas, #fxCanvas{
      position:fixed; inset:0; z-index:0; display:block;
    }
    #fxCanvas{ z-index:4; pointer-events:none } /* üstte hafif parıltılar */

    /* ===== Tema sınıfları ===== */
    .theme-male{
      --g1:#7dd3ff; --g2:#31b1ff; --g3:#00a8d6; --g4:#9fe3ff;
      --fg:#dff7ff; --bg:#071018;
      background: radial-gradient(1100px 700px at 50% 50%, rgba(0,150,255,.08), transparent 60%), #071018;
    }
    .theme-female{
      --g1:#ffd1dc; --g2:#ffa3bd; --g3:#ff8fa3; --g4:#ffe6a7;
      --fg:#fff5f7; --bg:#0e0b10;
      background: radial-gradient(1100px 700px at 50% 50%, rgba(255,140,180,.10), transparent 60%), #0e0b10;
    }

    /* Küçük saat ve dipnot */
    .clock{margin-top:18px; opacity:.65; font-feature-settings:"tnum" 1; font-variant-numeric: tabular-nums}
    footer{opacity:.75; text-align:center; padding:32px 12px}
  </style>
</head>
<body>

  <!-- ==== INTRO (her girişte sorar) ==== -->
  <section id="introScreen">
    <div class="intro-wrap">
      <h1 class="intro-title">Veridium</h1>
      <p class="intro-sub">Energini seç; açılış efektiyle içeri dal.</p>
      <div class="choices">
        <button id="maleBtn"   type="button" class="maleBtn">⚙️ Erkek</button>
        <button id="femaleBtn" type="button" class="femaleBtn">🌸 Kadın</button>
      </div>
    </div>
  </section>

  <!-- ==== Arka plan canvasları ==== -->
  <canvas id="bgCanvas"></canvas>
  <canvas id="fxCanvas"></canvas>

  <!-- ==== SITE ==== -->
  <div id="site" class="">
    <header>
      <h1 class="brand">VERIDIUM</h1>
    </header>

    <main class="wrap">
      <section class="grid" style="margin-bottom:14px">
        <article class="card">
          <h2>Günün Sözü</h2>
          <div id="quote">“ Sessiz adımlar, en derin izleri bırakır.”</div>
          <div class="clock" id="clock">--:--:--</div>
        </article>
        <aside class="card">
          <h2>Rastgele Bilgi</h2>
          <p id="fact">Yükleniyor…</p>
        </aside>
      </section>

      <section class="card" style="margin-top:10px">
        <h2 style="margin:0 0 10px">🔗 Keşfet</h2>
        <div class="grid">
          <a class="linkcard" href="./notlar.html">📒 Notlar</a>
          <a class="linkcard" href="./ipuclari.html">🧠 İpuçları</a>
          <a class="linkcard" href="./felsefe.html">🧭 Felsefe</a>
          <a class="linkcard" href="./projeler.html">🛠️ Projeler</a>
          <a class="linkcard" href="./echo.html">🗣️ Echo (konuk defteri)</a>
          <a class="linkcard" href="./about.html">👤 Hakkımda</a>
        </div>
      </section>
    </main>

    <footer>
      © 2025 <strong>VERIDIUM</strong> — küçük bir dijital köşe
    </footer>
  </div>

  <!-- ==== JS ==== -->
  <script>
    // Her zaman sorulsun: olası eski kayıtları temizleyelim
    try{ localStorage.removeItem('veridium-choice'); }catch(e){}
    const qs = sel => document.querySelector(sel);
    const intro = qs('#introScreen');
    const site  = qs('#site');
    const maleBtn = qs('#maleBtn');
    const femaleBtn = qs('#femaleBtn');
    const bg = qs('#bgCanvas');
    const fx = qs('#fxCanvas');
    const bctx = bg.getContext('2d');
    const fctx = fx.getContext('2d');
    let W=innerWidth, H=innerHeight, animId, fxId;

    function size(){
      W = bg.width  = fx.width  = innerWidth;
      H = bg.height = fx.height = innerHeight;
    }
    addEventListener('resize', size); size();

    /* Saat */
    (function tick(){
      const d=new Date();
      const z = n=>String(n).padStart(2,'0');
      const s = `${z(d.getHours())}:${z(d.getMinutes())}:${z(d.getSeconds())}`;
      const el=qs('#clock'); if(el) el.textContent=s; requestAnimationFrame(tick);
    })();

    /* Rastgele bilgi */
    (function(){
      const FACTS=[
        'Bir damla kanda yaklaşık ~5 milyon eritrosit bulunur.',
        'Göz kırpmak ortalama 0.3 saniye sürer.',
        'İnsan beyninin %60’ı yağdan oluşur.',
        'Deri, vücudun en büyük organıdır.',
      ];
      const el=qs('#fact'); if(el) el.textContent = FACTS[Math.floor(Math.random()*FACTS.length)];
    })();

    /* Başlık giriş efekti (intro anında) */
    function burst(text){
      const t = document.createElement('div');
      t.textContent = text;
      Object.assign(t.style,{
        position:'fixed', inset:'0', display:'grid', placeItems:'center',
        zIndex:1300, font:'800 32px/1.2 system-ui,Segoe UI,Roboto',
        color:'var(--fg)', letterSpacing:'.5px', transform:'scale(.7)', opacity:'0',
        transition:'transform .8s ease, opacity .8s ease'
      });
      document.body.appendChild(t);
      requestAnimationFrame(()=>{ t.style.transform='scale(1.08)'; t.style.opacity='1'; });
      setTimeout(()=>{ t.style.transform='scale(1.3)'; t.style.opacity='0'; }, 900);
      setTimeout(()=> t.remove(), 1650);
    }

    /* Tema ve arka plan animasyonları */
    let mode = null; // 'male' | 'female'

    function clearAnims(){
      cancelAnimationFrame(animId); cancelAnimationFrame(fxId);
      bctx.clearRect(0,0,W,H); fctx.clearRect(0,0,W,H);
    }

    // === Su altı / erkek ===
    function startMale(){
      document.body.classList.remove('theme-female'); document.body.classList.add('theme-male');
      const trails = Array.from({length:Math.floor(W*H/24000)},()=>({
        x:Math.random()*W, y:Math.random()*H, vx:(Math.random()*.7)+.2, vy:(Math.random()-.5)*.4,
        l: 40+Math.random()*120, w:1+Math.random()*2, a:.35+.2*Math.random()
      }));
      function loop(){
        bctx.fillStyle = 'rgba(5,15,24,0.22)'; bctx.fillRect(0,0,W,H);
        for(const t of trails){
          t.x+=t.vx; t.y+=t.vy; if(t.x>W+60) t.x=-60; if(t.y< -40) t.y=H+40; if(t.y>H+40) t.y=-40;
          const grd=bctx.createLinearGradient(t.x-t.l,t.y,t.x,t.y);
          grd.addColorStop(0,'rgba(0,180,255,0)');
          grd.addColorStop(1,`rgba(0,180,255,${t.a})`);
          bctx.strokeStyle=grd; bctx.lineWidth=t.w; bctx.beginPath(); bctx.moveTo(t.x-t.l,t.y); bctx.lineTo(t.x,t.y); bctx.stroke();
        }
        animId=requestAnimationFrame(loop);
      }
      loop();

      // hafif kabarcık/ışık kıpırtısı
      const bubbles=Array.from({length:40},()=>({x:Math.random()*W,y:H+Math.random()*H,r:1+Math.random()*3,s:.3+.7*Math.random()}));
      function fxloop(){
        fctx.clearRect(0,0,W,H);
        for(const b of bubbles){
          b.y-=b.s; if(b.y<-20){ b.y=H+20; b.x=Math.random()*W; }
          fctx.globalAlpha=.25; fctx.fillStyle='#6de0ff'; fctx.beginPath(); fctx.arc(b.x,b.y,b.r,0,Math.PI*2); fctx.fill();
        }
        fxId=requestAnimationFrame(fxloop);
      }
      fxloop();
    }

    // === Bahar / kadın ===
    function startFemale(){
      document.body.classList.remove('theme-male'); document.body.classList.add('theme-female');
      const petals = Array.from({length:Math.floor(W*H/32000)},()=>({
        x:Math.random()*W, y:Math.random()*H, r: 2+Math.random()*4,
        s:.4+.6*Math.random(), drift: (Math.random()-.5)*.6, hue: 330+Math.random()*40
      }));
      function loop(){
        bctx.fillStyle='rgba(12,10,14,.2)'; bctx.fillRect(0,0,W,H);
        for(const p of petals){
          p.y+=p.s; p.x+=Math.sin(p.y/40)*.6 + p.drift;
          if(p.y>H+20){ p.y=-20; p.x=Math.random()*W; }
          bctx.beginPath(); bctx.arc(p.x,p.y,p.r,0,Math.PI*2);
          bctx.fillStyle=`hsla(${p.hue},80%,72%,.85)`; bctx.fill();
        }
        animId=requestAnimationFrame(loop);
      }
      loop();

      // üstte güneş / parıltı
      function fxloop(t){
        fctx.clearRect(0,0,W,H);
        const grd=fctx.createRadialGradient(W*.82,H*.18,10, W*.82,H*.18, 220);
        grd.addColorStop(0,'rgba(255,240,180,.8)');
        grd.addColorStop(.6,'rgba(255,200,120,.18)');
        grd.addColorStop(1,'rgba(255,200,120,0)');
        fctx.fillStyle=grd; fctx.fillRect(0,0,W,H);
        fxId=requestAnimationFrame(fxloop);
      }
      fxloop();
    }

    function applyChoice(kind){
      if(kind===mode) return;
      mode = kind;
      clearAnims();
      if(kind==='male'){ startMale(); burst('Derin sulara hoş geldin ⚙️'); }
      else{ startFemale(); burst('Doğanın enerjisine hoş geldin 🌸'); }
      intro.classList.add('hide');
      site.classList.add('show');
    }

    maleBtn?.addEventListener('click', ()=>applyChoice('male'));
    femaleBtn?.addEventListener('click', ()=>applyChoice('female'));
  </script>
  <script>
    // Sayfa ilk açıldığında intro açık kalsın
    (function initOpen(){
      document.body.classList.remove('theme-male','theme-female');
      intro.classList.remove('hide'); site.classList.remove('show');
      // Başlangıçta hafif nötr bir arkaplan dolduralım:
      let t=0;
      function neutral(){
        bctx.fillStyle='rgba(10,10,12,.25)'; bctx.fillRect(0,0,W,H);
        for(let i=0;i<18;i++){
          const x=(Math.sin((t+i*13)*.021)*.5+.5)*W;
          const y=(Math.cos((t+i*7)*.017)*.5+.5)*H;
          const g=bctx.createRadialGradient(x,y,0,x,y,120);
          g.addColorStop(0,`rgba(180,190,210,.08)`); g.addColorStop(1,'rgba(0,0,0,0)');
          bctx.fillStyle=g; bctx.beginPath(); bctx.arc(x,y,120,0,Math.PI*2); bctx.fill();
        }
        t++; animId=requestAnimationFrame(neutral);
      }
      neutral();
    })();
  </script>

<!-- 🌗 Tema (aydınlık/karanlık) değiştir butonu -->
<button id="toggleTheme"
  style="
    position:fixed; bottom:20px; right:20px;
    background:var(--glass);
    border:1px solid var(--glass-b);
    border-radius:50%; width:48px; height:48px;
    font-size:22px; cursor:pointer;
    color:var(--fg); backdrop-filter:blur(6px);
    box-shadow:0 4px 16px rgba(0,0,0,.3);
    transition:transform .2s ease;">
🌗
</button>

<script>
const themeBtn = document.getElementById('toggleTheme');
let darkMode = true;

themeBtn.addEventListener('click', ()=>{
  darkMode = !darkMode;
  if(darkMode){
    document.documentElement.style.setProperty('--bg','#0b0d10');
    document.body.style.background='var(--bg)';
    themeBtn.textContent='🌗';
  } else {
    document.documentElement.style.setProperty('--bg','#f8f8f8');
    document.body.style.background='var(--bg)';
    themeBtn.textContent='☀️';
  }
});
</script>
<!-- 🔑 Giriş butonu -->
<a href="login.html" id="joinBtn">🌿 Veridium’a Katıl</a>

<style>
#joinBtn {
  position: fixed;
  top: 16px;
  right: 18px;
  padding: 10px 18px;
  font-weight: 700;
  border-radius: 12px;
  color: #fff;
  background: linear-gradient(135deg, #2ac0ff, #8b5cf6);
  text-decoration: none;
  letter-spacing: 0.5px;
  box-shadow: 0 0 14px rgba(0,0,0,0.3);
  transition: all 0.25s ease;
  border: 1px solid rgba(255,255,255,0.15);
  backdrop-filter: blur(6px);
  z-index: 1400; /* 🔥 eklenen satır */
}
#joinBtn:hover {
  transform: scale(1.05);
  box-shadow: 0 0 18px rgba(138,92,246,0.8);
  background: linear-gradient(135deg, #8b5cf6, #2ac0ff);
}
</style>
</body>
</html>
